# tg-bots

## Переменные окружения

Перед запуском необходимо определить переменные окружения. В репозитории есть файл `.env.example`, содержащий список необходимых параметров.

1. Скопируйте файл примера и заполните значения:

   ```bash
   cp .env.example .env
   nano .env    # или любой другой редактор
   ```

2. Загрузите переменные в текущую сессию:

   ```bash
   set -a
   source .env
   set +a
   ```

   При желании можно установить переменные другим способом, например, через `export`.

### Список переменных

- `BOT_TOKEN` — токен вашего Telegram‑бота.
- `HOST` — домен, где будет доступно веб‑приложение.
- `DB_NAME` — имя базы данных PostgreSQL.
- `DB_USER` — пользователь базы данных.
- `DB_PASSWORD` — пароль пользователя базы данных.
- `DB_HOST` — адрес сервера базы данных (по умолчанию `localhost`).
- `DB_PORT` — порт сервера базы данных (по умолчанию `5432`).

После настройки переменных можно запускать скрипты, например:

```bash
php bracelet/webhook.php
```

## Логи

Все сообщения об ошибках записываются в файл `bracelet/logs/app.log`.
Каждая строка лога имеет формат:

```
[YYYY-MM-DDTHH:MM:SS+00:00] Текст ошибки
```

* В начале строки указывается временная метка в формате ISO 8601.
* Далее следует человеко‑читабельное описание проблемы.

Каталог `bracelet/logs` создан в репозитории, но файлы с расширением
`.log` игнорируются системой контроля версий.

